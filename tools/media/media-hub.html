<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Media Hub | Utility OS</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js"></script>
</head>
<body class="bg-[#09090b] text-zinc-100 p-6 pb-24">

    <nav class="mb-8">
        <a href="../../index.html" class="inline-flex items-center gap-2 text-zinc-500 hover:text-blue-500 transition-colors">
            <i data-lucide="arrow-left" class="w-4 h-4"></i>
            <span class="text-sm font-medium">Back to Dashboard</span>
        </a>
    </nav>

    <header class="mb-10">
        <h2 class="text-2xl font-bold tracking-tight">Smart Media <span class="text-blue-500">Hub</span></h2>
        <p class="text-zinc-500 text-sm">Converters and Compressors</p>
    </header>

    <div class="space-y-8">
        <section class="p-6 rounded-2xl bg-zinc-900 border border-zinc-800 space-y-4">
            <div class="flex items-center gap-3 text-blue-400">
                <i data-lucide="code-2" class="w-6 h-6"></i>
                <h3 class="font-bold text-zinc-100">SVG to Tailwind</h3>
            </div>
            <textarea id="svg-input" class="w-full h-32 bg-black border border-zinc-800 rounded-xl p-3 text-xs font-mono outline-none focus:border-blue-500" placeholder="Paste <svg> code..."></textarea>
            <button onclick="convertSVG()" class="w-full bg-blue-600 hover:bg-blue-500 py-3 rounded-xl font-bold text-sm transition-all active:scale-95">Convert & Copy</button>
        </section>

        <section class="p-6 rounded-2xl bg-zinc-900 border border-zinc-800 space-y-4">
            <div class="flex items-center gap-3 text-emerald-400">
                <i data-lucide="maximize-2" class="w-6 h-6"></i>
                <h3 class="font-bold text-zinc-100">WebP/AVIF Compressor</h3>
            </div>
            <div class="border-2 border-dashed border-zinc-800 rounded-xl p-8 text-center hover:border-emerald-500/50 transition-colors">
                <input type="file" id="image-upload" accept="image/*" multiple class="hidden" onchange="handleCompression(event)">
                <label for="image-upload" class="cursor-pointer">
                    <i data-lucide="upload" class="w-8 h-8 mx-auto mb-3 text-zinc-600"></i>
                    <p class="text-sm text-zinc-400">Tap to select images</p>
                    <p class="text-[10px] text-zinc-600 mt-1 uppercase tracking-wider">Batch Processing Enabled</p>
                </label>
            </div>
            <div id="status" class="text-center text-xs font-mono text-zinc-500"></div>
        </section>
    </div>

    <script>
        lucide.createIcons();

        function convertSVG() {
            const val = document.getElementById('svg-input').value;
            if(!val.includes('<svg')) return alert('No SVG detected');
            const clean = val.replace(/class=/g, 'className=').replace(/<svg/g, '<svg className="w-6 h-6 text-current"');
            navigator.clipboard.writeText(clean);
            alert('Component copied!');
        }

        async function handleCompression(e) {
            const files = e.target.files;
            const status = document.getElementById('status');
            status.innerText = "Processing " + files.length + " files...";
            
            for (let file of files) {
                try {
                    const options = { maxSizeMB: 0.8, maxWidthOrHeight: 2000, useWebWorker: true };
                    const compressed = await imageCompression(file, options);
                    const link = document.createElement('a');
                    link.href = URL.createObjectURL(compressed);
                    link.download = `optimized_${file.name}`;
                    link.click();
                } catch (err) { console.error(err); }
            }
            status.innerText = "All downloads started!";
        } <section class="p-6 rounded-2xl bg-zinc-900 border border-zinc-800 space-y-4">
    <div class="flex items-center gap-3 text-orange-400">
        <i data-lucide="video" class="w-6 h-6"></i>
        <h3 class="font-bold text-zinc-100">Video to GIF</h3>
    </div>
    
    <div class="border-2 border-dashed border-zinc-800 rounded-xl p-8 text-center">
        <input type="file" id="video-input" accept="video/*" class="hidden" onchange="processVideo(event)">
        <label for="video-input" class="cursor-pointer">
            <i data-lucide="play-circle" class="w-8 h-8 mx-auto mb-2 text-zinc-700"></i>
            <p class="text-xs text-zinc-400 font-bold">Upload Video Clip</p>
        </label>
    </div>
    
    <canvas id="video-canvas" class="hidden"></canvas>
    <div id="video-status" class="text-center text-[10px] font-mono text-zinc-500 uppercase">Waiting for input...</div>
</section>

<script>
    function processVideo(event) {
        const file = event.target.files[0];
        const status = document.getElementById('video-status');
        if (!file) return;

        status.innerText = "Extracting Frames... (Keep App Open)";
        
        const video = document.createElement('video');
        video.src = URL.createObjectURL(file);
        video.muted = true;
        video.play();

        // This is a "Lightweight" approach for mobile
        // It captures the first 3 seconds of video as a sequence
        video.addEventListener('loadeddata', () => {
            setTimeout(() => {
                const canvas = document.getElementById('video-canvas');
                canvas.width = video.videoWidth / 2; // Resize for speed
                canvas.height = video.videoHeight / 2;
                const ctx = canvas.getContext('2d');
                ctx.drawImage(video, 0, 0, canvas.width, canvas.height);
                
                const gifUrl = canvas.toDataURL('image/gif');
                const link = document.createElement('a');
                link.href = gifUrl;
                link.download = "video-snapshot.gif";
                link.click();
                
                status.innerText = "Snapshot Exported as GIF!";
            }, 1000); // Grabs frame at 1 second mark
        });
    }
</script>

    </script>
</body>
</html>
